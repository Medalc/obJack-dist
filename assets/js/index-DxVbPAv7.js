import{u as x}from"./vue-router-eHVeVfd6.js";import{g as U,_ as L,a as $,b as P,u as f,d as B,r as V,j as _,B as A,f as N,h as R}from"./user-D2yX1KCw.js";import{I as D,u as I}from"./index-HL7W80wQ.js";import{_ as S}from"./UserDrawer.vuevuetypescriptsetuptruenameUserDrawerlang-C8bR0UYD.js";import{S as E,W as F,X as q,v as H,V as W,U as j,P as G}from"./@element-plus-b0mvxhbE.js";import{e as M}from"./element-plus-BMLDilJf.js";import{d as b,r as d,Z as O,ah as X,o as Z,c as z,a as J,U as a,O as r,u as i,S as l}from"./@vue-CsViAIeL.js";import"./notData-CvMaLoqa.js";import"./index-QuK0x8D1.js";import"./vue-i18n-CldGudpF.js";import"./@intlify-BrbEMGpa.js";import"./vue-uxj3NNEf.js";import"./pinia-j-FaXOu-.js";import"./axios-B4uVmeYG.js";import"./nprogress-CN1HEpHx.js";import"./pinia-plugin-persistedstate-RV7uh3T-.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DWeX12Kw.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";import"./plugin-vueexport-helper-DlAUqK2U.js";import"./print-js-t3lAMS30.js";const K={class:"main-box"},Q={class:"table-box"},Y=b({name:"useTreeFilter"}),Le=b({...Y,setup(ee){const y=x(),w=()=>{y.push("/proTable/useTreeFilter/detail/123456?params=detail-page")},n=d(),g=O({departmentId:"1"}),h=[{type:"index",label:"#",width:80},{prop:"username",label:"用户姓名",width:120,search:{el:"input"}},{prop:"gender",label:"性别",width:120,sortable:!0,enum:$,search:{el:"select"},fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"idCard",label:"身份证号"},{prop:"email",label:"邮箱"},{prop:"address",label:"居住地址"},{prop:"status",label:"用户状态",width:120,sortable:!0,tag:!0,enum:P,search:{el:"select"},fieldNames:{label:"userLabel",value:"userStatus"}},{prop:"createTime",label:"创建时间",width:180},{prop:"operation",label:"操作",width:330,fixed:"right"}],k=async e=>{await f(B,{id:[e.id]},`删除【${e.username}】用户`),n.value.getTableList()},v=async e=>{await f(V,{id:e.id},`重置【${e.username}】用户密码`),n.value.getTableList()},C=async()=>{M.confirm("确认导出用户数据?","温馨提示",{type:"warning"}).then(()=>I(_,"用户列表",n.value.searchParam))},m=d(null),T=()=>{var s;const e={title:"用户",tempApi:_,importApi:A,getTableList:n.value.getTableList};(s=m.value)==null||s.acceptParams(e)},u=d(null),p=(e,s={})=>{var o;const t={title:e,isView:e==="查看",row:{...s},api:e==="新增"?N:e==="编辑"?R:void 0,getTableList:n.value.getTableList};(o=u.value)==null||o.acceptParams(t)};return(e,s)=>{const t=X("el-button");return Z(),z("div",K,[J("div",Q,[a(L,{ref_key:"proTable",ref:n,title:"用户列表",columns:h,"request-api":i(U),"init-param":g,"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:r(()=>[a(t,{type:"primary",icon:i(E),onClick:s[0]||(s[0]=o=>p("新增"))},{default:r(()=>[l("新增用户")]),_:1},8,["icon"]),a(t,{type:"primary",icon:i(F),plain:"",onClick:T},{default:r(()=>[l("批量添加用户")]),_:1},8,["icon"]),a(t,{type:"primary",icon:i(q),plain:"",onClick:C},{default:r(()=>[l("导出用户数据")]),_:1},8,["icon"]),a(t,{type:"primary",plain:"",onClick:w},{default:r(()=>[l("To 平级详情页面")]),_:1})]),operation:r(o=>[a(t,{type:"primary",link:"",icon:i(H),onClick:c=>p("查看",o.row)},{default:r(()=>[l("查看")]),_:2},1032,["icon","onClick"]),a(t,{type:"primary",link:"",icon:i(W),onClick:c=>p("编辑",o.row)},{default:r(()=>[l("编辑")]),_:2},1032,["icon","onClick"]),a(t,{type:"primary",link:"",icon:i(j),onClick:c=>v(o.row)},{default:r(()=>[l("重置密码")]),_:2},1032,["icon","onClick"]),a(t,{type:"primary",link:"",icon:i(G),onClick:c=>k(o.row)},{default:r(()=>[l("删除")]),_:2},1032,["icon","onClick"])]),_:1},8,["request-api","init-param"]),a(S,{ref_key:"drawerRef",ref:u},null,512),a(D,{ref_key:"dialogRef",ref:m},null,512)])])}}});export{Le as default};
