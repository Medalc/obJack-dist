import{d as b,n as x,r as p,s as L,v as U,o as $,c as B,b as P,k as a,w as r,u as l,B as R,g as o,Q as A,R as D,I,J as N,G as V,D as E,S as F}from"./index-BLV9wkfW.js";import{g as S,_ as q,a as G,b as H,u as f,d as j,r as J,j as _,B as M,f as Q,h as W}from"./user-DzuLJFEh.js";import{I as z,u as K}from"./index-C2WrdBhr.js";import{_ as O}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-Dj49rjgt.js";import"./notData-CvMaLoqa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"main-box"},Y={class:"table-box"},Z=b({name:"useTreeFilter"}),ie=b({...Z,setup(ee){const w=x(),y=()=>{w.push("/proTable/useTreeFilter/detail/123456?params=detail-page")},n=p(),g=L({departmentId:"1"}),k=[{type:"index",label:"#",width:80},{prop:"username",label:"用户姓名",width:120,search:{el:"input"}},{prop:"gender",label:"性别",width:120,sortable:!0,enum:G,search:{el:"select"},fieldNames:{label:"genderLabel",value:"genderValue"}},{prop:"idCard",label:"身份证号"},{prop:"email",label:"邮箱"},{prop:"address",label:"居住地址"},{prop:"status",label:"用户状态",width:120,sortable:!0,tag:!0,enum:H,search:{el:"select"},fieldNames:{label:"userLabel",value:"userStatus"}},{prop:"createTime",label:"创建时间",width:180},{prop:"operation",label:"操作",width:330,fixed:"right"}],v=async e=>{await f(j,{id:[e.id]},`删除【${e.username}】用户`),n.value.getTableList()},h=async e=>{await f(J,{id:e.id},`重置【${e.username}】用户密码`),n.value.getTableList()},C=async()=>{F.confirm("确认导出用户数据?","温馨提示",{type:"warning"}).then(()=>K(_,"用户列表",n.value.searchParam))},u=p(null),T=()=>{var i;const e={title:"用户",tempApi:_,importApi:M,getTableList:n.value.getTableList};(i=u.value)==null||i.acceptParams(e)},m=p(null),c=(e,i={})=>{var s;const t={title:e,isView:e==="查看",row:{...i},api:e==="新增"?Q:e==="编辑"?W:void 0,getTableList:n.value.getTableList};(s=m.value)==null||s.acceptParams(t)};return(e,i)=>{const t=U("el-button");return $(),B("div",X,[P("div",Y,[a(q,{ref_key:"proTable",ref:n,title:"用户列表",columns:k,"request-api":l(S),"init-param":g,"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:r(()=>[a(t,{type:"primary",icon:l(R),onClick:i[0]||(i[0]=s=>c("新增"))},{default:r(()=>[o("新增用户")]),_:1},8,["icon"]),a(t,{type:"primary",icon:l(A),plain:"",onClick:T},{default:r(()=>[o("批量添加用户")]),_:1},8,["icon"]),a(t,{type:"primary",icon:l(D),plain:"",onClick:C},{default:r(()=>[o("导出用户数据")]),_:1},8,["icon"]),a(t,{type:"primary",plain:"",onClick:y},{default:r(()=>[o("To 平级详情页面")]),_:1})]),operation:r(s=>[a(t,{type:"primary",link:"",icon:l(I),onClick:d=>c("查看",s.row)},{default:r(()=>[o("查看")]),_:2},1032,["icon","onClick"]),a(t,{type:"primary",link:"",icon:l(N),onClick:d=>c("编辑",s.row)},{default:r(()=>[o("编辑")]),_:2},1032,["icon","onClick"]),a(t,{type:"primary",link:"",icon:l(V),onClick:d=>h(s.row)},{default:r(()=>[o("重置密码")]),_:2},1032,["icon","onClick"]),a(t,{type:"primary",link:"",icon:l(E),onClick:d=>v(s.row)},{default:r(()=>[o("删除")]),_:2},1032,["icon","onClick"])]),_:1},8,["request-api","init-param"]),a(O,{ref_key:"drawerRef",ref:m},null,512),a(z,{ref_key:"dialogRef",ref:u},null,512)])])}}});export{ie as default};
